{"base-bigarray":{"description":"\nBigarray library distributed with the OCaml compiler\n","files-contents":{},"isLocal":false,"maintainer":"https://github.com/ocaml/opam-repository/issues","name":"base-bigarray","opam-version":"2.0","version":"base"},"base-threads":{"description":"\nThreads library distributed with the OCaml compiler\n","files-contents":{},"isLocal":false,"maintainer":"https://github.com/ocaml/opam-repository/issues","name":"base-threads","opam-version":"2.0","version":"base"},"base-unix":{"description":"\nUnix library distributed with the OCaml compiler\n","files-contents":{},"isLocal":false,"maintainer":"https://github.com/ocaml/opam-repository/issues","name":"base-unix","opam-version":"2.0","version":"base"},"cmdliner":{"authors":["The cmdliner programmers"],"bug-reports":"https://github.com/dbuenzli/cmdliner/issues","build":[[{"id":"make"},"all","PREFIX=%{prefix}%"]],"depends":[{"options":[{"op":"geq","val":["4.03.0"]}],"val":"ocaml"}],"description":"\nCmdliner allows the declarative definition of command line interfaces\nfor OCaml.\n\nIt provides a simple and compositional mechanism to convert command\nline arguments to OCaml values and pass them to your functions. The\nmodule automatically handles syntax errors, help messages and UNIX man\npage generation. It supports programs with single or multiple commands\nand respects most of the [POSIX][1] and [GNU][2] conventions.\n\nCmdliner has no dependencies and is distributed under the ISC license.\n\n[1]: http://pubs.opengroup.org/onlinepubs/009695399/basedefs/xbd_chap12.html\n[2]: http://www.gnu.org/software/libc/manual/html_node/Argument-Syntax.html\n\nHome page: http://erratique.ch/software/cmdliner","dev-repo":"git+https://erratique.ch/repos/cmdliner.git","doc":"https://erratique.ch/software/cmdliner/doc","files-contents":{},"homepage":"https://erratique.ch/software/cmdliner","install":[[{"id":"make"},"install","LIBDIR=%{_:lib}%","DOCDIR=%{_:doc}%"],[{"id":"make"},"install-doc","LIBDIR=%{_:lib}%","DOCDIR=%{_:doc}%"]],"isLocal":true,"license":["ISC"],"maintainer":["Daniel Bünzli <daniel.buenzl i@erratique.ch>"],"name":"cmdliner","opam-version":"2.0","src":{"hash":"sha256-+ExYMpU7tZyIbhoww3gAme7VrsMYgBWg4VtdxfgbMe0=","rev":"ed6d829156d1a86f56973f87e8b151802029c11e","subdir":"/","url":"https://github.com/dbuenzli/cmdliner"},"synopsis":"Declarative definition of command line interfaces for OCaml","tags":["cli","system","declarative","org:erratique"],"version":"dev"},"my-package":{"build":[["mkdir","-p","%{bin}%"],["ocamlfind","ocamlopt","-package","cmdliner","-linkpkg","hello.ml","-o","%{bin}%/hello"]],"depends":["ocaml","ocamlfind","cmdliner"],"files-contents":{},"isLocal":true,"name":"my-package","opam-version":"2.0","pin-depends":[["cmdliner.dev","git+https://github.com/dbuenzli/cmdliner#ed6d829156d1a86f56973f87e8b151802029c11e"]],"version":"0.1"},"ocaml":{"authors":["Xavier Leroy","Damien Doligez","Alain Frisch","Jacques Garrigue","Didier Rémy","Jérôme Vouillon"],"bug-reports":"https://github.com/ocaml/opam-repository/issues","build":["ocaml","%{ocaml-config:share}%/gen_ocaml_config.ml",{"id":"_:version"},{"id":"_:name"}],"build-env":{"op":"eq","val":[{"id":"CAML_LD_LIBRARY_PATH"},""]},"depends":[{"options":[{"op":"geq","val":["2"]}],"val":"ocaml-config"},{"op":"or","val":[{"op":"or","val":[{"options":[{"op":"and","val":[{"op":"geq","val":["4.13.1~"]},{"op":"lt","val":["4.13.2~"]}]}],"val":"ocaml-base-compiler"},{"options":[{"op":"and","val":[{"op":"geq","val":["4.13.1~"]},{"op":"lt","val":["4.13.2~"]}]}],"val":"ocaml-variants"}]},{"options":[{"op":"and","val":[{"op":"geq","val":["4.13.1"]},{"op":"lt","val":["4.13.2~"]}]}],"val":"ocaml-system"}]}],"description":"\nThis package requires a matching implementation of OCaml,\nand polls it to initialise specific variables like `ocaml:native-dynlink`","files-contents":{},"homepage":"https://ocaml.org","isLocal":false,"license":"LGPL-2.1-or-later WITH OCaml-LGPL-linking-exception","maintainer":"platform@lists.ocaml.org","name":"ocaml","opam-version":"2.0","setenv":[[{"op":"eq","val":[{"id":"CAML_LD_LIBRARY_PATH"},"%{_:stubsdir}%"]}],[{"op":"prepend","val":[{"id":"CAML_LD_LIBRARY_PATH"},"%{lib}%/stublibs"]}],[{"op":"eq","val":[{"id":"OCAML_TOPLEVEL_PATH"},"%{toplevel}%"]}]],"synopsis":"The OCaml compiler (virtual package)","version":"4.13.1"},"ocaml-config":{"authors":["Louis Gesbert <louis.gesbert@ocamlpro.com>","David Allsopp <david.allsopp@metastack.com>"],"bug-reports":"https://github.com/ocaml/opam/issues","depends":[{"op":"or","val":[{"op":"or","val":[{"options":[{"op":"geq","val":["4.12.0~"]}],"val":"ocaml-base-compiler"},{"options":[{"op":"geq","val":["4.12.0~"]}],"val":"ocaml-variants"}]},{"options":[{"op":"geq","val":["4.12.0~"]}],"val":"ocaml-system"}]}],"description":"\nThis package is used by the OCaml package to set-up its variables.","extra-files":[["gen_ocaml_config.ml.in","md5=a4b41e3236593d8271295b84b0969172"],["ocaml-config.install","md5=8e50c5e2517d3463b3aad649748cafd7"]],"files-contents":{"gen_ocaml_config.ml.in":"let () =\n  let ocaml_version =\n    let v = Sys.ocaml_version in\n    let l = String.length v in\n    let plus = try String.index v '+' with Not_found -> l in\n    (* Introduced in 4.11.0; used from 4.12.0 *)\n    let tilde = try String.index v '~' with Not_found -> l in\n    String.sub v 0 (min (min plus tilde) l)\n  in\n  if ocaml_version <> Sys.argv.(1) then\n    (Printf.eprintf\n       \"OCaml version mismatch: %%s, expected %s\"\n       ocaml_version Sys.argv.(1);\n     exit 1)\n  else\n  let oc = open_out (Sys.argv.(2) ^ \".config\") in\n  let exe = \".exe\" in\n  let (ocaml, suffix) =\n    let s = Sys.executable_name in\n    if Filename.check_suffix s exe then\n      (Filename.chop_suffix s exe, exe)\n    else\n      (s, \"\")\n  in\n  let ocamlc = ocaml^\"c\"^suffix in\n  let libdir =\n    if Sys.command (ocamlc^\" -where > where\") = 0 then\n      (* Must be opened in text mode for Windows *)\n      let ic = open_in \"where\" in\n      let r = input_line ic in\n      close_in ic; r\n    else\n      failwith \"Bad return from 'ocamlc -where'\"\n  in\n  let stubsdir =\n    let ic = open_in (Filename.concat libdir \"ld.conf\") in\n    let rec r acc = try r (input_line ic::acc) with End_of_file -> acc in\n    let lines = List.rev (r []) in\n    close_in ic;\n    String.concat \":\" lines\n  in\n  let p fmt = Printf.fprintf oc (fmt ^^ \"\\n\") in\n  p \"opam-version: \\\"2.0\\\"\";\n  p \"variables {\";\n  p \"  native: %%b\"\n    (Sys.file_exists (ocaml^\"opt\"^suffix));\n  p \"  native-tools: %%b\"\n    (Sys.file_exists (ocamlc^\".opt\"^suffix));\n  p \"  native-dynlink: %%b\"\n    (Sys.file_exists (Filename.concat libdir \"dynlink.cmxa\"));\n  p \"  stubsdir: %%S\"\n    stubsdir;\n  p \"  preinstalled: %{ocaml-system:installed}%\";\n  p \"  compiler: \\\"%{ocaml-system:installed?system:}%%{ocaml-base-compiler:version}%%{ocaml-variants:version}%%{ocaml-option-32bit:installed?+32bit:}%%{ocaml-option-afl:installed?+afl:}%%{ocaml-option-bytecode-only:installed?+bytecode-only:}%%{ocaml-option-default-unsafe-string:installed?+default-unsafe-string:}%%{ocaml-option-fp:installed?+fp:}%%{ocaml-option-flambda:installed?+flambda:}%%{ocaml-option-musl:installed?+musl:}%%{ocaml-option-nnp:installed?+nnp:}%%{ocaml-option-no-flat-float-array:installed?+no-flat-float-array:}%%{ocaml-option-spacetime:installed?+spacetime:}%%{ocaml-option-static:installed?+static:}%\\\"\";\n  p \"}\";\n  close_out oc\n","ocaml-config.install":"share: [\"gen_ocaml_config.ml\"]\n"},"homepage":"https://opam.ocaml.org/","isLocal":false,"maintainer":"platform@lists.ocaml.org","name":"ocaml-config","opam-version":"2.0","substs":"gen_ocaml_config.ml","synopsis":"OCaml Switch Configuration","version":"2"},"ocaml-system":{"authors":"Xavier Leroy and many contributors","available":{"op":"eq","val":[{"id":"sys-ocaml-version"},"4.13.1"]},"bug-reports":"https://github.com/ocaml/opam-repository/issues","build":["ocaml","gen_ocaml_config.ml"],"conflict-class":"ocaml-core-compiler","depends":[{"options":[{"id":"post"}],"val":"ocaml"},{"options":[{"id":"post"}],"val":"base-unix"},{"options":[{"id":"post"}],"val":"base-threads"},{"options":[{"id":"post"}],"val":"base-bigarray"}],"dev-repo":"git+https://github.com/ocaml/ocaml","extra-files":["gen_ocaml_config.ml.in","md5=093e7bec1ec95f9e4c6a313d73c5d840"],"files-contents":{"gen_ocaml_config.ml.in":"let () =\n  let exe = \".exe\" in\n  let ocamlc =\n    let (base, suffix) =\n      let s = Sys.executable_name in\n      if Filename.check_suffix s exe then\n        (Filename.chop_suffix s exe, exe)\n      else\n        (s, \"\") in\n    base ^ \"c\" ^ suffix in\n  if Sys.ocaml_version <> \"%{_:version}%\" then\n    (Printf.eprintf\n       \"ERROR: The compiler found at %%s has version %%s,\\n\\\n        and this package requires %{_:version}%.\\n\\\n        You should use e.g. 'opam switch create %{_:name}%.%%s' \\\n        instead.\"\n       ocamlc Sys.ocaml_version Sys.ocaml_version;\n     exit 1)\n  else\n  let ocamlc_digest = Digest.to_hex (Digest.file ocamlc) in\n  let libdir =\n    if Sys.command (ocamlc^\" -where > %{_:name}%.config\") = 0 then\n      let ic = open_in \"%{_:name}%.config\" in\n      let r = input_line ic in\n      close_in ic;\n      Sys.remove \"%{_:name}%.config\";\n      r\n    else\n      failwith \"Bad return from 'ocamlc -where'\"\n  in\n  let graphics = Filename.concat libdir \"graphics.cmi\" in\n  let graphics_digest =\n    if Sys.file_exists graphics then\n      Digest.to_hex (Digest.file graphics)\n    else\n      String.make 32 '0'\n  in\n  let oc = open_out \"%{_:name}%.config\" in\n  Printf.fprintf oc \"opam-version: \\\"2.0\\\"\\n\\\n                     file-depends: [ [ %%S %%S ] [ %%S %%S ] ]\\n\\\n                     variables { path: %%S }\\n\"\n    ocamlc ocamlc_digest graphics graphics_digest (Filename.dirname ocamlc);\n  close_out oc\n"},"flags":{"id":"compiler"},"homepage":"https://ocaml.org","isLocal":false,"license":"LGPL-2.1-or-later WITH OCaml-LGPL-linking-exception","maintainer":"platform@lists.ocaml.org","name":"ocaml-system","opam-version":"2.0","substs":"gen_ocaml_config.ml","synopsis":"The OCaml compiler (system version, from outside of opam)","version":"4.13.1"},"ocamlfind":{"authors":"Gerd Stolpmann <gerd@gerd-stolpmann.de>","bug-reports":"https://github.com/ocaml/ocamlfind/issues","build":[["./configure","-bindir",{"id":"bin"},"-sitelib",{"id":"lib"},"-mandir",{"id":"man"},"-config","%{lib}%/findlib.conf","-no-custom",{"options":[{"op":"and","val":[{"op":"not","val":[{"id":"ocaml:preinstalled"}]},{"op":"geq","val":[{"id":"ocaml:version"},"4.02.0"]}]}],"val":"-no-camlp4"},{"options":[{"id":"ocaml:preinstalled"}],"val":"-no-topfind"}],[{"id":"make"},"all"],{"options":[{"id":"ocaml:native"}],"val":[{"id":"make"},"opt"]}],"depends":[{"options":[{"op":"geq","val":["4.00.0"]}],"val":"ocaml"}],"depopts":["graphics"],"description":"\nFindlib is a library manager for OCaml. It provides a convention how\nto store libraries, and a file format (\"META\") to describe the\nproperties of libraries. There is also a tool (ocamlfind) for\ninterpreting the META files, so that it is very easy to use libraries\nin programs and scripts.\n","dev-repo":"git+https://github.com/ocaml/ocamlfind.git","files-contents":{},"homepage":"http://projects.camlcity.org/projects/findlib.html","install":[[{"id":"make"},"install"],{"options":[{"id":"ocaml:preinstalled"}],"val":["install","-m","0755","ocaml-stub","%{bin}%/ocaml"]}],"isLocal":false,"license":"MIT","maintainer":"Thomas Gazagnaire <thomas@gazagnaire.org>","name":"ocamlfind","opam-version":"2.0","synopsis":"A library manager for OCaml","url":{"checksum":["md5=65e6dc9b305ccbed1267275fe180f538","sha512=83a05f3e310fa7cabb0475c5525f7a87c1b6bc2dc5e39f094cabfb5d944a826a5581844ba00ec1a48dd96184eb9de3c4d1055cdddee2b83c700a2de5a6dc6f84"],"src":"http://download.camlcity.org/download/findlib-1.9.1.tar.gz"},"version":"1.9.1"}}